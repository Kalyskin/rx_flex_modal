{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/rx-modal.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","default","object","property","prototype","hasOwnProperty","p","s","e","Rx_deepmerge","isMergeableObject","val","toString","cloneIfNecessary","optionsArgument","clone","deepmerge","Array","isArray","defaultArrayMerge","target","source","destination","slice","forEach","indexOf","push","array","arrayMerge","keys","all","length","Error","reduce","prev","next","RxFlexModal","$modal","__","currentLayout","init","self","this","that","_id","layouts","$modal_backdrop","$","$body","document","body","$layout_template","find","$layer","remove","newID","window","resize","setSize","close_on_backdrop_click","getConfig","click","closest","hasClass","close","closeLayer","addClass","html","setTimeout","removeClass","layer_active","showLayer","open","config","scrollTop","scrollY","Layout","setPosition","getMainConfig","show","defaultConfig","layout","parent","id","map","_layout","alert","options","$content_text","$content_actions","text","actions","item","append","action","Promise","resoleve","reject","data","menu","items","innerWidth","position","CONST","POSITION_LEFT","POSITION_CENTER","POSITION_RIGHT","isRemoved","isInitialized","isDetached","attach","hide","console","log","scrollTo","index","isPermanently","detach","_handleBack","splice","tmp","split","prop","TYPE_OF_COMPONENT_MODAL","$layout","Parent","initialized","removed","detached","attached","_sticky","LayoutEvents","RxListenerManager","loader","on","$loader","off","refs","_actions","handleBack","dispatch","handleClose","onBack","clback","onDestroy","onSetContent","onHide","onShow","event_name","permanently","params","clear","$wrapper","$header","$header_left","$header_center","$header_right","$header_backbutton","$header_closebutton","$header_title","$footer","$content","setConfig","content_script","addEventListener","focus","setContent","then","content","css","setHeaderRight","children","setHeaderLeft","setHeaderCenter","setSticky","__typeofcomponent","el","HeaderButton","sticky","header_height","prevPos","scrollHeight","scroll","clientHeight","parseInt","Math","min","max","getHeaderCenter","getHeaderLeft","getHeaderRight","popup_config","header","visible","height","title","close_button","back_button","right","left","footer","center","$html","type","icon","dispatchEvent","ref","HorizontalScrollableElement","renderItem","$item","width","dispatchEvent_item_click","events","eventStates","eventName","callback","_eventName","_param","shift","apply","arguments","main_arguments","fn"],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 1);\n","Rx_deepmerge = (function () {\r\n    function isMergeableObject(val) {\r\n        var nonNullObject = val && typeof val === 'object'\r\n\r\n        return nonNullObject\r\n            && Object.prototype.toString.call(val) !== '[object RegExp]'\r\n            && Object.prototype.toString.call(val) !== '[object Date]'\r\n    }\r\n\r\n    function emptyTarget(val) {\r\n        return Array.isArray(val) ? [] : {}\r\n    }\r\n\r\n    function cloneIfNecessary(value, optionsArgument) {\r\n        var clone = optionsArgument && optionsArgument.clone === true\r\n        return (clone && isMergeableObject(value)) ? deepmerge(emptyTarget(value), value, optionsArgument) : value\r\n    }\r\n\r\n    function defaultArrayMerge(target, source, optionsArgument) {\r\n        var destination = target.slice()\r\n        source.forEach(function (e, i) {\r\n            if (typeof destination[i] === 'undefined') {\r\n                destination[i] = cloneIfNecessary(e, optionsArgument)\r\n            } else if (isMergeableObject(e)) {\r\n                destination[i] = deepmerge(target[i], e, optionsArgument)\r\n            } else if (target.indexOf(e) === -1) {\r\n                destination.push(cloneIfNecessary(e, optionsArgument))\r\n            }\r\n        })\r\n        return destination\r\n    }\r\n\r\n    function mergeObject(target, source, optionsArgument) {\r\n        var destination = {}\r\n        if (isMergeableObject(target)) {\r\n            Object.keys(target).forEach(function (key) {\r\n                destination[key] = cloneIfNecessary(target[key], optionsArgument)\r\n            })\r\n        }\r\n        Object.keys(source).forEach(function (key) {\r\n            if (!isMergeableObject(source[key]) || !target[key]) {\r\n                destination[key] = cloneIfNecessary(source[key], optionsArgument)\r\n            } else {\r\n                destination[key] = deepmerge(target[key], source[key], optionsArgument)\r\n            }\r\n        })\r\n        return destination\r\n    }\r\n\r\n    function deepmerge(target, source, optionsArgument) {\r\n        var array = Array.isArray(source);\r\n        var options = optionsArgument || {arrayMerge: defaultArrayMerge}\r\n        var arrayMerge = options.arrayMerge || defaultArrayMerge\r\n\r\n        if (array) {\r\n            return Array.isArray(target) ? arrayMerge(target, source, optionsArgument) : cloneIfNecessary(source, optionsArgument)\r\n        } else {\r\n            return mergeObject(target, source, optionsArgument)\r\n        }\r\n    }\r\n\r\n    deepmerge.all = function deepmergeAll(array, optionsArgument) {\r\n        if (!Array.isArray(array) || array.length < 2) {\r\n            throw new Error('first argument should be an array with at least two elements')\r\n        }\r\n\r\n        // we are sure there are at least 2 values, so it is safe to have no initial value\r\n        return array.reduce(function (prev, next) {\r\n            return deepmerge(prev, next, optionsArgument)\r\n        })\r\n    }\r\n    return deepmerge;\r\n})();\r\n\r\nRxFlexModal = {\r\n    $modal: null,\r\n    __: {},\r\n    currentLayout: null,\r\n    init: function () {\r\n        var self = this.__, that = this, _id = 0;\r\n        self.layouts = [];\r\n        self.$modal_backdrop = $('.rx__flex_modal__backdrop');\r\n        self.$modal = $('#rx__flex_modal');\r\n        self.$body = $(document.body);\r\n        self.$layout_template = self.$modal.find('.rx__flex_modal__layout').clone();\r\n        self.$layer = self.$modal.find('.rx__flex_modal__layer');\r\n        self.$modal.find('.rx__flex_modal__layout').remove();\r\n        self.newID = function () {\r\n            return _id++;\r\n        };\r\n        $(window).resize(function () {\r\n            that.setSize();\r\n        });\r\n        self.close_on_backdrop_click = that.getConfig({}, 'popup_config.close_on_backdrop_click');\r\n        self.$modal_backdrop.click(function (e) {\r\n            if (self.close_on_backdrop_click) {\r\n                if($(e.target).closest('.rx__flex_modal').length === 0 && !$(e.target).hasClass('.rx__flex_modal')){\r\n                    that.close();\r\n                }\r\n            }\r\n        });\r\n        self.closeLayer = function(){\r\n            self.$layer.addClass('hidden');\r\n            self.$layer.find('.rx__flex_modal__layer__content__textcontent').html(\"\");\r\n            setTimeout(function () {\r\n                self.$layer.removeClass('_start_anim').removeClass('_as_menu');\r\n                self.layer_active = false;\r\n            },200);\r\n            setTimeout(function () {\r\n                self.layer_active = false;\r\n            },300);\r\n        };\r\n        self.showLayer = function(){\r\n            self.$layer.addClass('_start_anim');\r\n            setTimeout(function () {\r\n                self.$layer.removeClass('hidden');\r\n                self.layer_active = true;\r\n            },0);\r\n        };\r\n        self.$layer.click(function (e) {\r\n            if($(e.target).closest('.rx__flex_modal__layer__content').length === 0 && !$(e.target).hasClass('.rx__flex_modal__layer__content')){\r\n                self.closeLayer();\r\n            }\r\n        });\r\n        return that;\r\n    },\r\n    open: function (config) {\r\n        var self = this.__, that = this;\r\n        self.scrollTop = window.scrollY;\r\n        if (config instanceof RxFlexModal.Layout) {\r\n            that.setPosition(that.getConfig(config.getMainConfig(), 'popup_config.position'));\r\n            self.close_on_backdrop_click = that.getConfig(config.getMainConfig(), 'popup_config.close_on_backdrop_click');\r\n        } else {\r\n            that.setPosition(that.getConfig(config, 'popup_config.position'));\r\n            self.close_on_backdrop_click = that.getConfig(config, 'popup_config.close_on_backdrop_click');\r\n        }\r\n        self.$modal_backdrop.addClass('__anim_start').show();\r\n        setTimeout(function () {\r\n            self.$modal.addClass('open');\r\n            self.$modal_backdrop.removeClass('__anim_start')\r\n        },0);\r\n        self.$body.addClass('rx_flex_open');\r\n        that.setSize();\r\n        if (config instanceof RxFlexModal.Layout) {\r\n            that.push(config);\r\n        } else {\r\n            that.currentLayout = new RxFlexModal.Layout(config || RxFlexModal.Layout.defaultConfig);\r\n            that.currentLayout.init({\r\n                layout: self.$layout_template.clone(),\r\n                parent: that,\r\n                id: self.newID()\r\n            });\r\n            self.layouts.map(function (_layout) {\r\n                _layout.remove();\r\n            });\r\n            self.layouts = [];\r\n            self.layouts.push(that.currentLayout);\r\n            that.currentLayout.show();\r\n        }\r\n    },\r\n    alert: function(options){\r\n        var self = this.__, that = this;\r\n        self.$layer.removeClass('_as_menu');\r\n        var $content_text = self.$layer.find('.rx__flex_modal__layer__content__textcontent');\r\n        var $content_actions = self.$layer.find('.rx__flex_modal__layer__content__actionscontent');\r\n        if(typeof options === \"string\"){\r\n            $content_text.text(options);\r\n            $content_actions.html('<button data-action=\"ok\">ok</button>');\r\n        }else if(typeof options === \"object\") {\r\n            if('text' in options){\r\n                $content_text.html(options.text);\r\n            }else {\r\n                $content_text.html(\"  \");\r\n            }\r\n            if('actions' in options && Array.isArray(options.actions)){\r\n                $content_actions.html(\"\");\r\n                options.actions.map(function (item) {\r\n                    $content_actions.append('<button data-action=\"'+item.action+'\">'+item.text+'</button>');\r\n                })\r\n            }\r\n        }\r\n        return new RxFlexModal.Promise(function (resoleve,reject) {\r\n            $content_actions.find('button').click(function (e) {\r\n                self.closeLayer();\r\n                resoleve($(this).data('action'));\r\n            });\r\n            self.showLayer();\r\n        });\r\n    },\r\n    menu: function(options){\r\n        var self = this.__, that = this;\r\n        self.$layer.addClass('_as_menu');\r\n        var $content_actions = self.$layer.find('.rx__flex_modal__layer__content__actionscontent');\r\n        if(typeof options === \"object\") {\r\n            if('items' in options && Array.isArray(options.items)){\r\n                $content_actions.html(\"\");\r\n                options.items.map(function (item) {\r\n                    $content_actions.append('<button data-action=\"'+item.action+'\">'+item.text+'</button>');\r\n                })\r\n            }\r\n        }\r\n        return new RxFlexModal.Promise(function (resoleve,reject) {\r\n            $content_actions.find('button').click(function (e) {\r\n                self.closeLayer();\r\n                resoleve($(this).data('action'));\r\n            });\r\n            self.showLayer();\r\n        });\r\n    },\r\n    setSize: function () {\r\n        var self = this.__, that = this;\r\n        if (window.innerWidth < 600) {\r\n            self.$body.addClass('rx_modal_full_screen');\r\n        } else {\r\n            self.$body.removeClass('rx_modal_full_screen');\r\n        }\r\n    },\r\n    setPosition: function (position) {\r\n        var self = this.__, that = this;\r\n        self.$modal_backdrop.removeClass('rx__flex_modal__backdrop__left')\r\n            .removeClass('rx__flex_modal__backdrop__right')\r\n            .removeClass('rx__flex_modal__backdrop__center');\r\n        switch (position) {\r\n            case RxFlexModal.CONST.POSITION_LEFT:\r\n                self.$modal_backdrop.addClass('rx__flex_modal__backdrop__left');\r\n                break;\r\n            case RxFlexModal.CONST.POSITION_CENTER:\r\n                self.$modal_backdrop.addClass('rx__flex_modal__backdrop__center');\r\n                break;\r\n            case RxFlexModal.CONST.POSITION_RIGHT:\r\n                self.$modal_backdrop.addClass('rx__flex_modal__backdrop__right');\r\n                break;\r\n            default:\r\n                self.$modal_backdrop.addClass('rx__flex_modal__backdrop__center');\r\n                break;\r\n        }\r\n    },\r\n    push: function (layout) {\r\n        var self = this.__, that = this;\r\n\r\n        if (layout instanceof RxFlexModal.Layout) {\r\n            if (layout.isRemoved()) {\r\n                throw new Error(\"Layout was removed use 'permanently:true' in config!\");\r\n            }\r\n            if (!layout.isInitialized()) {\r\n                layout.init({\r\n                    layout: self.$layout_template.clone(),\r\n                    parent: that,\r\n                    id: self.newID()\r\n                });\r\n            }\r\n            if (layout.isDetached()) {\r\n                layout.attach();\r\n            }\r\n            that.currentLayout = layout;\r\n        }\r\n        self.layouts.map(function (_layout) {\r\n            _layout.hide();\r\n        });\r\n        self.layouts.push(that.currentLayout);\r\n        that.currentLayout.show();\r\n    },\r\n    close: function () {\r\n        var self = this.__, that = this;\r\n        console.log(\"on close\");\r\n        self.$modal.removeClass('open').removeClass('full_screen');\r\n        self.$body.removeClass('rx_flex_open');\r\n        window.scrollTo(0, self.scrollTop || 0);\r\n        self.$modal_backdrop.addClass('__anim_start');\r\n        setTimeout(function () {\r\n            self.$modal_backdrop.hide();\r\n        },300);\r\n        self.layouts.map(function (_layout, index) {\r\n            if (_layout.isPermanently()) {\r\n                _layout.detach();\r\n            } else\r\n                _layout.remove();\r\n        });\r\n        self.layouts = [];\r\n    },\r\n    _handleBack: function (layout) {\r\n        var self = this.__, that = this;\r\n        if (layout) {\r\n            if (layout.isPermanently()) {\r\n                layout.hide();\r\n                layout.detach();\r\n            } else\r\n                layout.remove();\r\n\r\n            self.layouts.map(function (_layout, index) {\r\n                _layout.hide();\r\n                if (_layout.id === layout.id) {\r\n                    self.layouts.splice(index, 1);\r\n                }\r\n            });\r\n        }\r\n        if (self.layouts.length > 0) {\r\n            that.currentLayout = self.layouts[self.layouts.length - 1];\r\n        } else {\r\n            self.layouts = [];\r\n            that.currentLayout = null;\r\n            that.close();\r\n        }\r\n        that.currentLayout && that.currentLayout.show();\r\n    },\r\n    getConfig: function (config, name) {\r\n        var conf = Rx_deepmerge(RxFlexModal.Layout.defaultConfig, config || {});\r\n        var path = name.split('.');\r\n        var tmp = conf;\r\n        path.map(function (prop) {\r\n            if (tmp)\r\n                tmp = tmp[prop];\r\n        });\r\n        return tmp;\r\n    }\r\n};\r\nRxFlexModal.CONST = {\r\n    POSITION_LEFT: 1,\r\n    POSITION_RIGHT: 2,\r\n    POSITION_CENTER: 3,\r\n    TYPE_OF_COMPONENT_MODAL:111\r\n};\r\nRxFlexModal.Layout = function (config) {\r\n    var self = this,\r\n        $layout = null,\r\n        Parent = {},\r\n        initialized = false,\r\n        removed = false,\r\n        detached = false,\r\n        attached = false,\r\n        _sticky = null,\r\n        LayoutEvents = new RxFlexModal.RxListenerManager();\r\n\r\n    self.loader = {\r\n        on: function () {\r\n            self.$loader.removeClass('hidden');\r\n        },\r\n        off: function () {\r\n            self.$loader.addClass('hidden');\r\n        },\r\n    };\r\n    self.refs = {};\r\n    self._actions = {\r\n        handleBack: function (e) {\r\n            LayoutEvents.dispatch(\"onBack\", self);\r\n            Parent._handleBack(self);\r\n            console.log(\"Back\");\r\n        },\r\n        handleClose: function (e) {\r\n            Parent.close();\r\n        }\r\n    };\r\n\r\n    self.onBack = function (clback) {\r\n        LayoutEvents.on(\"onBack\", clback)\r\n    };\r\n    self.onDestroy = function (clback) {\r\n        LayoutEvents.on(\"onDestroy\", clback)\r\n    };\r\n    self.onSetContent = function (clback) {\r\n        LayoutEvents.on(\"onSetContent\", clback)\r\n    };\r\n    self.onHide = function (clback) {\r\n        LayoutEvents.on(\"onHide\", clback)\r\n    };\r\n    self.onShow = function (clback) {\r\n        LayoutEvents.on(\"onShow\", clback)\r\n    };\r\n    self.on = function (event_name, clback) {\r\n        LayoutEvents.on(event_name, clback)\r\n    };\r\n\r\n    self.isInitialized = function () {\r\n        return initialized;\r\n    };\r\n    self.isDetached = function () {\r\n        return detached;\r\n    };\r\n    self.isRemoved = function () {\r\n        return removed;\r\n    };\r\n    self.isPermanently = function () {\r\n        return config.config && config.config.permanently;\r\n    };\r\n\r\n    self.init = function (params) {\r\n        if (!initialized) {\r\n            LayoutEvents.clear();\r\n            self.id = params.id;\r\n            $layout = self.$wrapper = params.layout;\r\n            Parent = params.parent;\r\n            self.$loader = $layout.find('.rx__flex_modal__loader');\r\n            self.$header = $layout.find('.rx__flex_modal__header');\r\n            self.$header_left = $layout.find('.rx__flex_modal__header__left');\r\n            self.$header_center = $layout.find('.rx__flex_modal__header__center');\r\n            self.$header_right = $layout.find('.rx__flex_modal__header__right');\r\n            self.$header_backbutton = $layout.find('.rx__flex_modal__header__left .sprtrx-icon-left-open-big');\r\n            self.$header_closebutton = $layout.find('.rx__flex_modal__header__left .sprtrx-icon-cancel');\r\n            self.$header_title = $layout.find('.rx__flex_modal__header__center__title');\r\n            self.$footer = $layout.find('.rx__flex_modal__footer');\r\n            self.$content = $layout.find('.rx__flex_modal__content__content');\r\n\r\n            /*init events*/\r\n            self.$header_backbutton.click(self._actions.handleBack.bind(self));\r\n            self.$header_closebutton.click(self._actions.handleClose.bind(self));\r\n\r\n            self.setConfig(config.config);\r\n            self.attach();\r\n            if (config.content_script && typeof config.content_script === 'function') {\r\n                config.content_script(self);\r\n            }\r\n            if(self.$content.length && self.$content[0]) {\r\n                self.$content[0].addEventListener('touchmove', function (e) {\r\n                    self.$content.focus();\r\n                }, false);\r\n            }\r\n        }\r\n        initialized = true;\r\n    };\r\n    self.setContent = function ($content) {\r\n        if ($content instanceof RxFlexModal.Promise) {\r\n            self.loader.on();\r\n            $content.then(function (content) {\r\n                self.$content.html(content);\r\n                self.loader.off();\r\n                LayoutEvents.dispatch(\"onSetContent\", self);\r\n            });\r\n        } else {\r\n            self.$content.html($content);\r\n            LayoutEvents.dispatch(\"onSetContent\", self);\r\n        }\r\n        return self;\r\n    };\r\n    self.hide = function () {\r\n        $layout && $layout.addClass('hidden');\r\n        LayoutEvents.dispatch(\"onHide\", self);\r\n    };\r\n    self.show = function () {\r\n        console.log(\"Show\");\r\n        $layout && $layout.removeClass('hidden');\r\n        LayoutEvents.dispatch(\"onShow\", self);\r\n    };\r\n    self.remove = function () {\r\n        self.hide();\r\n        setTimeout(function () {\r\n            LayoutEvents.dispatch(\"onDestroy\", self);\r\n            $layout && $layout.remove();\r\n            removed = true;\r\n            attached = false;\r\n        }, 300);\r\n    };\r\n    self.detach = function () {\r\n        self.hide();\r\n        setTimeout(function () {\r\n            LayoutEvents.dispatch(\"onDestroy\", self);\r\n            if ($layout) {\r\n                $layout = $layout.detach();\r\n                detached = true;\r\n                attached = false;\r\n            }\r\n        }, 300);\r\n    };\r\n    self.attach = function () {\r\n        if ($layout && !attached) {\r\n            Parent.__.$modal.append($layout);\r\n            attached = true;\r\n        }\r\n    };\r\n    self.getMainConfig = function () {\r\n        return config || {};\r\n    };\r\n    self.getConfig = function (config, name) {\r\n        var conf = Rx_deepmerge(RxFlexModal.Layout.defaultConfig.config, config || {});\r\n        var path = name.split('.');\r\n        var tmp = conf;\r\n        path.map(function (prop) {\r\n            if (tmp)\r\n                tmp = tmp[prop];\r\n        });\r\n        return tmp;\r\n    };\r\n    self.setConfig = function (config) {\r\n\r\n        /*Footer*/\r\n        if (self.getConfig(config, 'footer.visible')) {\r\n            self.$footer.removeClass('hidden');\r\n        } else {\r\n            self.$footer.addClass('hidden');\r\n        }\r\n        if (self.getConfig(config, 'footer.height')) {\r\n            self.$footer.css('height', self.getConfig(config, 'footer.height'));\r\n        }\r\n\r\n        /*Header*/\r\n        if (self.getConfig(config, 'header.visible')) {\r\n            self.$header.removeClass('hidden');\r\n        } else {\r\n            self.$header.addClass('hidden');\r\n        }\r\n\r\n        if (self.getConfig(config, 'header.height')) {\r\n            self.$header.css('height', self.getConfig(config, 'header.height'));\r\n        }\r\n\r\n        if (self.getConfig(config, 'header.back_button')) {\r\n            self.$header_backbutton.removeClass('hidden');\r\n        } else {\r\n            self.$header_backbutton.addClass('hidden');\r\n        }\r\n\r\n        if (self.getConfig(config, 'header.close_button')) {\r\n            self.$header_closebutton.removeClass('hidden');\r\n        } else {\r\n            self.$header_closebutton.addClass('hidden');\r\n        }\r\n\r\n        if (typeof self.getConfig(config, 'header.title') === 'string') {\r\n            self.$header_title.text(self.getConfig(config, 'header.title'));\r\n        }\r\n\r\n        if (self.getConfig(config, 'header.right')) {\r\n            self.setHeaderRight(self.getConfig(config, 'header.right'));\r\n        }\r\n\r\n        if (self.$header_right.children().length) {\r\n            self.$header_center.removeClass('right_empty');\r\n        } else {\r\n            self.$header_center.addClass('right_empty');\r\n        }\r\n\r\n        if (self.getConfig(config, 'header.left')) {\r\n            self.setHeaderLeft(self.getConfig(config, 'header.left'));\r\n        }\r\n\r\n        if (self.getConfig(config, 'header.center')) {\r\n            self.setHeaderCenter(self.getConfig(config, 'header.center'));\r\n        }\r\n\r\n        self.setSticky(self.getConfig(config, 'header.sticky'));\r\n\r\n    };\r\n\r\n    /*Methods*/\r\n    self.setHeaderCenter = function (content) {\r\n        if(typeof content === 'object' && ('__typeofcomponent' in content) && content.__typeofcomponent === RxFlexModal.CONST.TYPE_OF_COMPONENT_MODAL){\r\n            content.init(self, LayoutEvents);\r\n            self.$header_center.html(content.html());\r\n        }else\r\n            self.$header_center.html(content);\r\n    };\r\n    self.setHeaderLeft = function (content) {\r\n        if (Array.isArray(content)) {\r\n            self.$header_left.html();\r\n            content.map(function (el) {\r\n                if (el instanceof RxFlexModal.HeaderButton) {\r\n                    el.init(self, LayoutEvents);\r\n                    self.$header_left.append(el.html())\r\n                }\r\n            });\r\n        }else {\r\n            self.$header_left.html(content);\r\n        }\r\n    };\r\n    self.setHeaderRight = function (content) {\r\n        if (Array.isArray(content)) {\r\n            self.$header_right.html();\r\n            content.map(function (el) {\r\n                if (el instanceof RxFlexModal.HeaderButton) {\r\n                    el.init(self, LayoutEvents);\r\n                    self.$header_right.append(el.html())\r\n                }\r\n            });\r\n        }else {\r\n            self.$header_right.html(content);\r\n        }\r\n    };\r\n    self.setSticky = function (sticky) {\r\n        _sticky = sticky;\r\n        if (_sticky) {\r\n            var header_height = self.getConfig(config.config, 'header.height'),prevPos = 0;\r\n            var scrollHeight = 0;\r\n            var __sticky = true;\r\n            self.$content.scroll(function(){\r\n                if(_sticky && __sticky) {\r\n                    scrollHeight = this.scrollHeight - this.clientHeight;\r\n                    var m = parseInt(self.$header.css('margin-top'));\r\n                    if(this.scrollTop < scrollHeight) {\r\n                        if(this.scrollTop > 0) {\r\n                            self.$header.css('margin-top', Math.min(0, Math.max((header_height * (-1)), m - (this.scrollTop - prevPos))));\r\n                        }else {\r\n                            self.$header.css('margin-top',0);\r\n                        }\r\n                    }else {\r\n                        self.$header.css('margin-top',(header_height * (-1)));\r\n                    }\r\n                    prevPos = this.scrollTop;\r\n                }\r\n            });\r\n        }else {\r\n            self.$header.css('margin-top',0);\r\n        }\r\n    };\r\n\r\n    /*Getters*/\r\n    self.getHeaderCenter = function () {\r\n        return self.$header_center;\r\n    };\r\n    self.getHeaderLeft = function () {\r\n        return self.$header_left;\r\n    };\r\n    self.getHeaderRight = function () {\r\n        return self.$header_right;\r\n    };\r\n};\r\nRxFlexModal.Layout.defaultConfig = {\r\n    popup_config: {\r\n        position: RxFlexModal.CONST.POSITION_CENTER,\r\n        close_on_backdrop_click: true\r\n    },\r\n    config: {\r\n        header: {\r\n            visible: true,\r\n            sticky:false,\r\n            height: 70,\r\n            title: \"\",\r\n            close_button: false,\r\n            back_button: false,\r\n            right: [],\r\n            left: null\r\n        },\r\n        footer: {\r\n            visible: false,\r\n            height: 70\r\n        },\r\n        center: null\r\n    }\r\n};\r\nRxFlexModal.Promise = Promise;\r\nRxFlexModal.HeaderButton = function (params) {\r\n    var self = this, $html = null;\r\n    this.init = function (Layout, LayoutEvents) {\r\n        if (params.type === 'icon') {\r\n            $html = $('<span class=\"' + params.icon + '\"></span>');\r\n        }\r\n        if (params.type === 'button') {\r\n            $html = $('<button class=\"rx__flex_modal__header__button\">' + params.text + '</button>');\r\n        }\r\n        if ($html && params.dispatchEvent) {\r\n            $html.click(function (e) {\r\n                LayoutEvents.dispatch(params.dispatchEvent, e)\r\n            })\r\n        }\r\n        if ($html && params.ref) {\r\n            Layout.refs[params.ref] = $html;\r\n        }\r\n    };\r\n    this.html = function () {\r\n        return $html;\r\n    };\r\n    this.__typeofcomponent = RxFlexModal.CONST.TYPE_OF_COMPONENT_MODAL;\r\n};\r\nRxFlexModal.HorizontalScrollableElement = function (params) {\r\n    var self = this, $html = null;\r\n    this.init = function (Layout, LayoutEvents) {\r\n        $html = $('<div class=\"rx__flex_modal__HorizontalScrollableElement\"></div>');\r\n\r\n        if(typeof params.renderItem === 'function' && Array.isArray(params.items)){\r\n            params.items.map(function (item,index) {\r\n                var $item = $('<div class=\"rx__flex_modal__HorizontalScrollableElement_item\"></div>');\r\n                $item.css('width',params.width || 100);\r\n                $item.html(params.renderItem(item,index) || \"\");\r\n                $item.click(function (e) {\r\n                    LayoutEvents.dispatch(params.dispatchEvent_item_click, e)\r\n                });\r\n                $html.append($item);\r\n            });\r\n        }\r\n        if ($html && params.ref) {\r\n            Layout.refs[params.ref] = $html;\r\n        }\r\n    };\r\n    this.html = function () {\r\n        return $html;\r\n    };\r\n\r\n    this.__typeofcomponent = RxFlexModal.CONST.TYPE_OF_COMPONENT_MODAL;\r\n};\r\nRxFlexModal.RxListenerManager = function () {\r\n    var events = {};\r\n    var eventStates = {};\r\n\r\n    this.on = function (eventName, callback) {\r\n        events[eventName] && events[eventName].push(callback);\r\n        (!events[eventName]) && (events[eventName] = [callback]);\r\n    };\r\n\r\n    this.dispatch = function (_eventName, _param) {\r\n        var eventName = Array.prototype.shift.apply(arguments);\r\n        var main_arguments = arguments;\r\n        if (!!events[eventName] && Array.isArray(events[eventName])) {\r\n            events[eventName].map(function (fn) {\r\n                fn.apply(null, main_arguments);\r\n            });\r\n            eventStates[eventName] = (+eventStates[eventName] || 0) + 1;\r\n        }\r\n    };\r\n\r\n    this.clear = function () {\r\n        events = {};\r\n        eventStates = {};\r\n    };\r\n};\r\nRxFlexModal.init();"],"sourceRoot":""}