!function(e){var t={};function o(n){if(t[n])return t[n].exports;var a=t[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=e,o.c=t,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)o.d(n,a,function(t){return e[t]}.bind(null,a));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=1)}([function(e,t){Rx_deepmerge=function(){function e(e){return e&&"object"==typeof e&&"[object RegExp]"!==Object.prototype.toString.call(e)&&"[object Date]"!==Object.prototype.toString.call(e)}function t(t,o){return o&&!0===o.clone&&e(t)?n(function(e){return Array.isArray(e)?[]:{}}(t),t,o):t}function o(o,a,r){var i=o.slice();return a.forEach(function(a,l){void 0===i[l]?i[l]=t(a,r):e(a)?i[l]=n(o[l],a,r):-1===o.indexOf(a)&&i.push(t(a,r))}),i}function n(a,r,i){var l=Array.isArray(r),c=(i||{arrayMerge:o}).arrayMerge||o;return l?Array.isArray(a)?c(a,r,i):t(r,i):function(o,a,r){var i={};return e(o)&&Object.keys(o).forEach(function(e){i[e]=t(o[e],r)}),Object.keys(a).forEach(function(l){e(a[l])&&o[l]?i[l]=n(o[l],a[l],r):i[l]=t(a[l],r)}),i}(a,r,i)}return n.all=function(e,t){if(!Array.isArray(e)||e.length<2)throw new Error("first argument should be an array with at least two elements");return e.reduce(function(e,o){return n(e,o,t)})},n}(),RxFlexModal={$modal:null,__:{},currentLayout:null,init:function(){var e=this.__,t=this,o=0;return e.layouts=[],e.$modal_backdrop=$(".rx__flex_modal__backdrop"),e.$modal=$("#rx__flex_modal"),e.$body=$(document.body),e.$layout_template=e.$modal.find(".rx__flex_modal__layout").clone(),e.$modal.find(".rx__flex_modal__layout").remove(),e.newID=function(){return o++},$(window).resize(function(){t.setSize()}),e.close_on_backdrop_click=t.getConfig({},"popup_config.close_on_backdrop_click"),e.$modal_backdrop.click(function(o){e.close_on_backdrop_click&&(0!==$(o.target).closest(".rx__flex_modal").length||$(o.target).hasClass(".rx__flex_modal")||t.close())}),t},open:function(e){var t=this.__;t.scrollTop=window.scrollY,e instanceof RxFlexModal.Layout?(this.setPosition(this.getConfig(e.getMainConfig(),"popup_config.position")),t.close_on_backdrop_click=this.getConfig(e.getMainConfig(),"popup_config.close_on_backdrop_click")):(this.setPosition(this.getConfig(e,"popup_config.position")),t.close_on_backdrop_click=this.getConfig(e,"popup_config.close_on_backdrop_click")),t.$modal_backdrop.show(),t.$modal.addClass("open"),t.$body.addClass("rx_flex_open"),this.setSize(),e instanceof RxFlexModal.Layout?this.push(e):(this.currentLayout=new RxFlexModal.Layout(e||RxFlexModal.Layout.defaultConfig),this.currentLayout.init({layout:t.$layout_template.clone(),parent:this,id:t.newID()}),t.layouts.map(function(e){e.remove()}),t.layouts=[],t.layouts.push(this.currentLayout),this.currentLayout.show())},setSize:function(){var e=this.__;window.innerWidth<600?e.$body.addClass("rx_modal_full_screen"):e.$body.removeClass("rx_modal_full_screen")},setPosition:function(e){var t=this.__;switch(t.$modal_backdrop.removeClass("rx__flex_modal__backdrop__left").removeClass("rx__flex_modal__backdrop__right"),e){case RxFlexModal.CONST.POSITION_LEFT:t.$modal_backdrop.addClass("rx__flex_modal__backdrop__left");break;case RxFlexModal.CONST.POSITION_CENTER:t.$modal_backdrop.addClass("rx__flex_modal__backdrop__center");break;case RxFlexModal.CONST.POSITION_RIGHT:t.$modal_backdrop.addClass("rx__flex_modal__backdrop__right");break;default:t.$modal_backdrop.addClass("rx__flex_modal__backdrop__center")}},push:function(e){var t=this.__;if(e instanceof RxFlexModal.Layout){if(e.isRemoved())throw new Error("Layout was removed use 'permanently:true' in config!");e.isInitialized()||e.init({layout:t.$layout_template.clone(),parent:this,id:t.newID()}),e.isDetached()&&e.attach(),this.currentLayout=e}t.layouts.map(function(e){e.hide()}),t.layouts.push(this.currentLayout),this.currentLayout.show()},close:function(){var e=this.__;console.log("on close"),e.$modal.removeClass("open").removeClass("full_screen"),e.$body.removeClass("rx_flex_open"),window.scrollTo(0,e.scrollTop||0),e.$modal_backdrop.hide(),e.layouts.map(function(e,t){e.isPermanently()?e.detach():e.remove()}),e.layouts=[]},_handleBack:function(e){var t=this.__;e&&(e.isPermanently()?(e.hide(),e.detach()):e.remove(),t.layouts.map(function(o,n){o.hide(),o.id===e.id&&t.layouts.splice(n,1)})),t.layouts.length>0?this.currentLayout=t.layouts[t.layouts.length-1]:(t.layouts=[],this.currentLayout=null,this.close()),this.currentLayout&&this.currentLayout.show()},getConfig:function(e,t){var o=Rx_deepmerge(RxFlexModal.Layout.defaultConfig,e||{});return t.split(".").map(function(e){o&&(o=o[e])}),o}},RxFlexModal.CONST={POSITION_LEFT:1,POSITION_RIGHT:2,POSITION_CENTER:3,TYPE_OF_COMPONENT_MODAL:111},RxFlexModal.Layout=function(e){var t=this,o=null,n={},a=!1,r=!1,i=!1,l=!1,c=null;LayoutEvents=new RxFlexModal.RxListenerManager,t.loader={on:function(){t.$loader.removeClass("hidden")},off:function(){t.$loader.addClass("hidden")}},t.refs={},t._actions={handleBack:function(e){LayoutEvents.dispatch("onBack",t),n._handleBack(t),console.log("Back")},handleClose:function(e){n.close()}},t.onBack=function(e){LayoutEvents.on("onBack",e)},t.onDestroy=function(e){LayoutEvents.on("onDestroy",e)},t.onSetContent=function(e){LayoutEvents.on("onSetContent",e)},t.onHide=function(e){LayoutEvents.on("onHide",e)},t.onShow=function(e){LayoutEvents.on("onShow",e)},t.on=function(e,t){LayoutEvents.on(e,t)},t.isInitialized=function(){return a},t.isDetached=function(){return i},t.isRemoved=function(){return r},t.isPermanently=function(){return e.config.permanently},t.init=function(r){a||(LayoutEvents.clear(),t.id=r.id,o=t.$wrapper=r.layout,n=r.parent,t.$loader=o.find(".rx__flex_modal__loader"),t.$header=o.find(".rx__flex_modal__header"),t.$header_left=o.find(".rx__flex_modal__header__left"),t.$header_center=o.find(".rx__flex_modal__header__center"),t.$header_right=o.find(".rx__flex_modal__header__right"),t.$header_backbutton=o.find(".rx__flex_modal__header__left .sprtrx-icon-left-open-big"),t.$header_closebutton=o.find(".rx__flex_modal__header__left .sprtrx-icon-cancel"),t.$header_title=o.find(".rx__flex_modal__header__center__title"),t.$footer=o.find(".rx__flex_modal__footer"),t.$content=o.find(".rx__flex_modal__content__content"),t.$header_backbutton.click(t._actions.handleBack.bind(t)),t.$header_closebutton.click(t._actions.handleClose.bind(t)),t.setConfig(e.config),t.attach(),e.content_script&&"function"==typeof e.content_script&&e.content_script(t)),a=!0},t.setContent=function(e){return e instanceof RxFlexModal.Promise?(t.loader.on(),e.then(function(e){t.$content.html(e),t.loader.off(),LayoutEvents.dispatch("onSetContent",t)})):(t.$content.html(e),LayoutEvents.dispatch("onSetContent",t)),t},t.hide=function(){o&&o.addClass("hidden"),LayoutEvents.dispatch("onHide",t)},t.show=function(){console.log("Show"),o&&o.removeClass("hidden"),LayoutEvents.dispatch("onShow",t)},t.remove=function(){t.hide(),setTimeout(function(){LayoutEvents.dispatch("onDestroy",t),o&&o.remove(),r=!0,l=!1},300)},t.detach=function(){t.hide(),setTimeout(function(){LayoutEvents.dispatch("onDestroy",t),o&&(o=o.detach(),i=!0,l=!1)},300)},t.attach=function(){o&&!l&&(n.__.$modal.append(o),l=!0)},t.getMainConfig=function(){return e||{}},t.getConfig=function(e,t){var o=Rx_deepmerge(RxFlexModal.Layout.defaultConfig.config,e||{});return t.split(".").map(function(e){o&&(o=o[e])}),o},t.setConfig=function(e){t.getConfig(e,"footer.visible")?t.$footer.removeClass("hidden"):t.$footer.addClass("hidden"),t.getConfig(e,"footer.height")&&t.$footer.css("height",t.getConfig(e,"footer.height")),t.getConfig(e,"header.visible")?t.$header.removeClass("hidden"):t.$header.addClass("hidden"),t.getConfig(e,"header.height")&&t.$header.css("height",t.getConfig(e,"header.height")),t.getConfig(e,"header.back_button")?t.$header_backbutton.removeClass("hidden"):t.$header_backbutton.addClass("hidden"),t.getConfig(e,"header.close_button")?t.$header_closebutton.removeClass("hidden"):t.$header_closebutton.addClass("hidden"),"string"==typeof t.getConfig(e,"header.title")&&t.$header_title.text(t.getConfig(e,"header.title")),t.getConfig(e,"header.right")&&t.setHeaderRight(t.getConfig(e,"header.right")),t.$header_right.children().length?t.$header_center.removeClass("right_empty"):t.$header_center.addClass("right_empty"),t.getConfig(e,"header.left")&&t.setHeaderLeft(t.getConfig(e,"header.left")),t.getConfig(e,"header.center")&&t.setHeaderCenter(t.getConfig(e,"header.center")),t.setSticky(t.getConfig(e,"header.sticky"))},t.setHeaderCenter=function(e){"object"==typeof e&&"__typeofcomponent"in e&&e.__typeofcomponent===RxFlexModal.CONST.TYPE_OF_COMPONENT_MODAL?(e.init(t,LayoutEvents),t.$header_center.html(e.html())):t.$header_center.html(e)},t.setHeaderLeft=function(e){Array.isArray(e)?(t.$header_left.html(),e.map(function(e){e instanceof RxFlexModal.HeaderButton&&(e.init(t,LayoutEvents),t.$header_left.append(e.html()))})):t.$header_left.html(e)},t.setHeaderRight=function(e){Array.isArray(e)?(t.$header_right.html(),e.map(function(e){e instanceof RxFlexModal.HeaderButton&&(e.init(t,LayoutEvents),t.$header_right.append(e.html()))})):t.$header_right.html(e)},t.setSticky=function(o){if(c=o){var n=t.getConfig(e.config,"header.height"),a=0;t.$content.scroll(function(){if(c){var e=parseInt(t.$header.css("margin-top"));t.$header.css("margin-top",Math.min(0,Math.max(-1*n,e-(this.scrollTop-a)))),a=this.scrollTop}})}else t.$header.css("margin-top",0)},t.getHeaderCenter=function(){return t.$header_center},t.getHeaderLeft=function(){return t.$header_left},t.getHeaderRight=function(){return t.$header_right}},RxFlexModal.Layout.defaultConfig={popup_config:{position:RxFlexModal.CONST.POSITION_CENTER,close_on_backdrop_click:!0},config:{header:{visible:!0,sticky:!1,height:70,title:"",close_button:!1,back_button:!1,right:[],left:null},footer:{visible:!1,height:70},center:null}},RxFlexModal.Promise=Promise,RxFlexModal.HeaderButton=function(e){var t=null;this.init=function(o,n){"icon"===e.type&&(t=$('<span class="'+e.icon+'"></span>')),"button"===e.type&&(t=$('<button class="rx__flex_modal__header__button">'+e.text+"</button>")),t&&e.dispatchEvent&&t.click(function(t){n.dispatch(e.dispatchEvent,t)}),t&&e.ref&&(o.refs[e.ref]=t)},this.html=function(){return t},this.__typeofcomponent=RxFlexModal.CONST.TYPE_OF_COMPONENT_MODAL},RxFlexModal.HorizontalScrollableElement=function(e){var t=null;this.init=function(o,n){t=$('<div class="rx__flex_modal__HorizontalScrollableElement"></div>'),"function"==typeof e.renderItem&&Array.isArray(e.items)&&e.items.map(function(o,a){var r=$('<div class="rx__flex_modal__HorizontalScrollableElement_item"></div>');r.css("width",e.width||100),r.html(e.renderItem(o,a)||""),r.click(function(t){n.dispatch(e.dispatchEvent_item_click,t)}),t.append(r)}),t&&e.ref&&(o.refs[e.ref]=t)},this.html=function(){return t},this.__typeofcomponent=RxFlexModal.CONST.TYPE_OF_COMPONENT_MODAL},RxFlexModal.RxListenerManager=function(){var e={},t={};this.on=function(t,o){e[t]&&e[t].push(o),!e[t]&&(e[t]=[o])},this.dispatch=function(o,n){var a=Array.prototype.shift.apply(arguments),r=arguments;e[a]&&Array.isArray(e[a])&&(e[a].map(function(e){e.apply(null,r)}),t[a]=(+t[a]||0)+1)},this.clear=function(){e={},t={}}},RxFlexModal.init()},function(e,t,o){o(0),e.exports=o(6)},,,,,function(e,t){}]);
//# sourceMappingURL=bundle.js.map